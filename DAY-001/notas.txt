

## âœ… ConteÃºdo do MÃ³dulo

Este mÃ³dulo aborda os principais **componentes da arquitetura**, **conceitos fundamentais**, **ferramentas de laboratÃ³rio**, **comandos bÃ¡sicos** e **boas prÃ¡ticas operacionais** no Kubernetes.

---

## ğŸ§  1. Componentes de Controle (Control Plane)

### ğŸ”¹ etcd

Banco de dados distribuÃ­do que armazena **todo o estado do cluster** (configuraÃ§Ãµes, nÃ³s, pods, secrets, etc).
Ã‰ o â€œcoraÃ§Ã£oâ€ do cluster.

### ğŸ”¹ kube-apiserver

Ã‰ a **API central do cluster**.
Todos os comandos (`kubectl`) e componentes se comunicam com o cluster atravÃ©s dele.

### ğŸ”¹ kube-scheduler

ResponsÃ¡vel por **decidir em qual nÃ³ cada Pod serÃ¡ executado**, baseado em:

* Recursos disponÃ­veis
* Regras de afinidade
* RestriÃ§Ãµes de hardware

### ğŸ”¹ kube-controller-manager

Gerencia os **controladores** do cluster, como:

* ReplicaSet
* Deployment
* Node Controller
* Job Controller
  Ele garante que o estado desejado seja mantido.

---

## âš™ï¸ 2. Componentes dos NÃ³s (Workers)

### ğŸ”¹ kubelet (Agente do NÃ³)

Ã‰ o **agente que roda em cada nÃ³**.
Ele recebe as ordens do Cluster e garante que os containers estejam rodando corretamente.

### ğŸ”¹ kube-proxy

ResponsÃ¡vel pela **parte de rede do cluster**, fazendo:

* Encaminhamento de trÃ¡fego
* Regras de iptables
* ComunicaÃ§Ã£o entre Pods e Services

---

## ğŸ§ª 3. Kind â€“ Kubernetes em Ambiente Local

O **Kind (Kubernetes in Docker)** Ã© utilizado para:

* Criar clusters locais
* Rodar laboratÃ³rios
* Testar manifests sem usar cloud

### âœ… FunÃ§Ãµes principais:

* Instalar o Kind
* Criar clusters locais
* Excluir clusters quando nÃ£o forem mais necessÃ¡rios

---

## ğŸŒ 4. Portas Utilizadas no Kubernetes

| Porta       | ServiÃ§o            |
| ----------- | ------------------ |
| 6443        | kube-apiserver     |
| 2379â€“2380   | etcd               |
| 10250       | kubelet            |
| 10251       | scheduler          |
| 10252       | controller-manager |
| 30000â€“32767 | NodePort           |

---

## ğŸ“¦ 5. Conceitos sobre Objetos do Kubernetes

### ğŸ”¹ Pod

Ã‰ a **menor unidade do Kubernetes**.
Um Pod pode conter:

* 1 ou mais containers
* Compartilham rede e armazenamento

---

### ğŸ”¹ Deployment

Objeto responsÃ¡vel por:

* Criar Pods automaticamente
* AtualizaÃ§Ãµes sem downtime (rolling update)
* Controle de versÃµes
* Escalabilidade

---

### ğŸ”¹ ReplicaSet

Garante que:

* Sempre exista a **quantidade definida de Pods rodando**
* Caso um Pod morra, outro Ã© criado automaticamente

> Obs.: Normalmente o ReplicaSet Ã© gerenciado pelo Deployment.

---

## âŒ¨ï¸ 6. Comandos BÃ¡sicos

### ğŸ”¹ Pods

```bash
kubectl get pods
kubectl create -f pod.yaml
kubectl delete pod nome-do-pod
```

---

### ğŸ”¹ Services

```bash
kubectl get services
kubectl create -f service.yaml
kubectl delete service nome-do-service
```

---

### ğŸ”¹ Namespaces

```bash
kubectl get namespace
kubectl create namespace nome
kubectl delete namespace nome
```

---

## âš¡ 7. Autocomplete no Bash e Zsh

Permite:

* Completar comandos automaticamente
* Reduzir erros de digitaÃ§Ã£o
* Aumentar a produtividade

Exemplo no `zsh`:

```bash
source <(kubectl completion zsh)
```

---

## ğŸ§ª 8. Uso do `dry-run`

O `dry-run` Ã© utilizado para:

* **Simular comandos**
* **Gerar arquivos YAML**
* **Validar antes de aplicar em produÃ§Ã£o**

### âœ… Exemplo:

```bash
kubectl run lab --image=nginx --dry-run=client -o yaml
```

Isso **gera o YAML sem criar o Pod**.

---

## ğŸ“„ 9. AplicaÃ§Ã£o de Arquivos YAML (`apply`)

ApÃ³s criar ou editar um manifesto:

```bash
kubectl apply -f arquivo.yaml
```

Esse comando:

* Cria o recurso se nÃ£o existir
* Atualiza se jÃ¡ existir

---


